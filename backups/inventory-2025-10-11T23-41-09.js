/**
 * Inventory Data
 * Last updated: 2025-10-11T23:28:59.960Z
 * Auto-generated by sync system
 */

const INVENTORY = [
    {
        "serialNumber": "P5-MS-507320-0612-101725-NM",
        "cashPrice": 98.79,
        "rtoPrice": 2865,
        "price": 98.79,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-ES-504259-0812-092025-NM",
        "cashPrice": 121.03,
        "rtoPrice": 3510,
        "price": 121.03,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-LB-493121-0812-061625-NM",
        "cashPrice": 159.5,
        "rtoPrice": 4625.6,
        "price": 159.5,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-UX-471596-1232-112424-NM",
        "cashPrice": 445.91,
        "rtoPrice": 12931.4,
        "price": 445.91,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-US-468743-1016-102624-NM",
        "cashPrice": 217.07,
        "rtoPrice": 6295,
        "price": 217.07,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-ES-465888-0812-093024-NM",
        "cashPrice": 121.03,
        "rtoPrice": 3510,
        "price": 121.03,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-UX-454665-0812-061024-NM",
        "cashPrice": 138.47,
        "rtoPrice": 4015.6,
        "price": 138.47,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-UX-413420-1016-041523-NM",
        "cashPrice": 203.48,
        "rtoPrice": 5901,
        "price": 203.48,
        "location": "GPB Sales",
        "isRepo": false
    },
    {
        "serialNumber": "P5-DS-249547-1012-071322-TX",
        "cashPrice": 270.93,
        "rtoPrice": 7857,
        "price": 270.93,
        "location": "GPB Sales",
        "isRepo": false
    }
];

/**
 * Process raw inventory data through the decoder
 * Returns enhanced inventory with decoded information
 */
function processInventory() {
    return INVENTORY.map(item => {
        const decoder = new SerialNumberDecoder(item.serialNumber);
        const details = decoder.getFullDetails();

        if (!details.valid) {
            console.error('Invalid serial number:', item.serialNumber);
            return null;
        }

        return {
            ...item,
            ...details,
            typeCode: details.type.code,
            typeName: details.type.name,
            sizeDisplay: details.size.display,
            width: details.size.width,
            length: details.size.length,
            dateBuilt: details.dateBuilt.display,
            isRepo: details.status === 'repo'
        };
    }).filter(item => item !== null);
}

// Make available globally
window.PROCESSED_INVENTORY = processInventory();
