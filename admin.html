<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Community Portable Buildings</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <script>
        // Check authentication before loading page
        const token = localStorage.getItem('auth_token');
        if (!token) {
            window.location.href = 'login.html';
        }
    </script>

    <header class="admin-header">
        <div class="container">
            <h1>Admin Panel</h1>
            <div class="header-actions">
                <span id="user-email" style="margin-right: 1rem; color: #666;"></span>
                <a href="super-admin.html" class="btn btn-secondary" id="super-admin-link" style="display: none; margin-right: 0.5rem;">Super Admin</a>
                <a href="#" id="view-site-link" target="_blank" class="btn btn-secondary" onclick="viewSiteFromHeader(event)">View Site</a>
                <button class="btn btn-secondary" onclick="logout()" style="margin-left: 0.5rem;">Logout</button>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="admin-tabs">
            <button class="tab-btn active" data-tab="customization">Site Customization</button>
            <button class="tab-btn" data-tab="domain">Domain & Website</button>
            <button class="tab-btn" data-tab="settings">Display Settings</button>
            <button class="tab-btn" data-tab="lots">Other Lots</button>
            <button class="tab-btn" data-tab="buildings">Manage Buildings</button>
        </div>

        <!-- Site Customization Tab -->
        <div class="tab-content active" id="customization-tab">
            <div class="card">
                <h2>Business Information</h2>

                <div class="form-group">
                    <label for="businessName">Business Name</label>
                    <input type="text" id="businessName" class="form-control"
                           placeholder="e.g., Community Portable Buildings">
                    <p class="help-text">This appears in the header of your website</p>
                </div>

                <div class="form-group">
                    <label for="businessPhone">Phone Number</label>
                    <input type="tel" id="businessPhone" class="form-control"
                           placeholder="e.g., 318-594-5909">
                    <p class="help-text">Main contact phone number for your business</p>
                </div>

                <div class="form-group">
                    <label for="businessEmail">Email Address</label>
                    <input type="email" id="businessEmail" class="form-control"
                           placeholder="e.g., info@yourcompany.com">
                    <p class="help-text">Business email for customer inquiries</p>
                </div>

                <div class="form-group">
                    <label for="businessAddress">Physical Address</label>
                    <textarea id="businessAddress" class="form-control" rows="2"
                              placeholder="e.g., 123 Main St, West Monroe, LA 71291"></textarea>
                    <p class="help-text">Your business location (optional)</p>
                </div>

                <div class="form-group">
                    <label for="facebookUrl">Facebook Page URL</label>
                    <input type="url" id="facebookUrl" class="form-control"
                           placeholder="e.g., https://facebook.com/yourpage">
                    <p class="help-text">Link to your business Facebook page</p>
                </div>

                <div class="form-group">
                    <label for="instagramUrl">Instagram Profile URL</label>
                    <input type="url" id="instagramUrl" class="form-control"
                           placeholder="e.g., https://instagram.com/yourprofile">
                    <p class="help-text">Link to your business Instagram profile</p>
                </div>

                <div class="form-group">
                    <label for="twitterUrl">Twitter/X Profile URL</label>
                    <input type="url" id="twitterUrl" class="form-control"
                           placeholder="e.g., https://twitter.com/yourprofile">
                    <p class="help-text">Link to your business Twitter/X profile (optional)</p>
                </div>
            </div>

            <div class="card">
                <h2>Inventory Sync Settings</h2>
                <p class="help-text">Configure your GPB Sales credentials to automatically sync your inventory. Your credentials are encrypted and stored securely.</p>

                <div class="form-group">
                    <label for="gpbUsername">GPB Sales Username/Email</label>
                    <input type="email" id="gpbUsername" class="form-control"
                           placeholder="Enter your GPB Sales email">
                    <p class="help-text">Your login email for GPB Sales portal</p>
                </div>

                <div class="form-group">
                    <label for="gpbPassword">GPB Sales Password</label>
                    <input type="password" id="gpbPassword" class="form-control"
                           placeholder="Enter your GPB Sales password">
                    <p class="help-text">Your password will be encrypted before storage</p>
                </div>

                <div class="setting-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="autoSyncEnabled">
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">Enable Automatic Daily Sync at 2 AM</span>
                    </label>
                </div>

                <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                    <button class="btn btn-primary" onclick="saveGpbCredentials()">
                        Save Credentials
                    </button>
                    <button class="btn btn-secondary" onclick="triggerUserSync()" id="user-sync-btn">
                        🔄 Sync Now
                    </button>
                </div>
                <p id="gpb-status" class="help-text" style="margin-top: 1rem; font-weight: 600;"></p>
            </div>

            <div class="card">
                <h2>Location Hours</h2>
                <p class="help-text">Set your business hours to display on your website footer</p>

                <div class="hours-grid" style="display: grid; gap: 1rem;">
                    <div class="hours-day">
                        <label style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="hours-monday-enabled" onchange="toggleDayHours('monday')" style="width: 20px; height: 20px;">
                            <strong style="width: 100px;">Monday</strong>
                        </label>
                        <div id="hours-monday-inputs" style="display: none; margin-left: 120px; gap: 0.5rem; align-items: center;">
                            <input type="time" id="hours-monday-open" class="form-control" style="display: inline-block; width: 120px;">
                            <span>to</span>
                            <input type="time" id="hours-monday-close" class="form-control" style="display: inline-block; width: 120px;">
                        </div>
                    </div>

                    <div class="hours-day">
                        <label style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="hours-tuesday-enabled" onchange="toggleDayHours('tuesday')" style="width: 20px; height: 20px;">
                            <strong style="width: 100px;">Tuesday</strong>
                        </label>
                        <div id="hours-tuesday-inputs" style="display: none; margin-left: 120px; gap: 0.5rem; align-items: center;">
                            <input type="time" id="hours-tuesday-open" class="form-control" style="display: inline-block; width: 120px;">
                            <span>to</span>
                            <input type="time" id="hours-tuesday-close" class="form-control" style="display: inline-block; width: 120px;">
                        </div>
                    </div>

                    <div class="hours-day">
                        <label style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="hours-wednesday-enabled" onchange="toggleDayHours('wednesday')" style="width: 20px; height: 20px;">
                            <strong style="width: 100px;">Wednesday</strong>
                        </label>
                        <div id="hours-wednesday-inputs" style="display: none; margin-left: 120px; gap: 0.5rem; align-items: center;">
                            <input type="time" id="hours-wednesday-open" class="form-control" style="display: inline-block; width: 120px;">
                            <span>to</span>
                            <input type="time" id="hours-wednesday-close" class="form-control" style="display: inline-block; width: 120px;">
                        </div>
                    </div>

                    <div class="hours-day">
                        <label style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="hours-thursday-enabled" onchange="toggleDayHours('thursday')" style="width: 20px; height: 20px;">
                            <strong style="width: 100px;">Thursday</strong>
                        </label>
                        <div id="hours-thursday-inputs" style="display: none; margin-left: 120px; gap: 0.5rem; align-items: center;">
                            <input type="time" id="hours-thursday-open" class="form-control" style="display: inline-block; width: 120px;">
                            <span>to</span>
                            <input type="time" id="hours-thursday-close" class="form-control" style="display: inline-block; width: 120px;">
                        </div>
                    </div>

                    <div class="hours-day">
                        <label style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="hours-friday-enabled" onchange="toggleDayHours('friday')" style="width: 20px; height: 20px;">
                            <strong style="width: 100px;">Friday</strong>
                        </label>
                        <div id="hours-friday-inputs" style="display: none; margin-left: 120px; gap: 0.5rem; align-items: center;">
                            <input type="time" id="hours-friday-open" class="form-control" style="display: inline-block; width: 120px;">
                            <span>to</span>
                            <input type="time" id="hours-friday-close" class="form-control" style="display: inline-block; width: 120px;">
                        </div>
                    </div>

                    <div class="hours-day">
                        <label style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="hours-saturday-enabled" onchange="toggleDayHours('saturday')" style="width: 20px; height: 20px;">
                            <strong style="width: 100px;">Saturday</strong>
                        </label>
                        <div id="hours-saturday-inputs" style="display: none; margin-left: 120px; gap: 0.5rem; align-items: center;">
                            <input type="time" id="hours-saturday-open" class="form-control" style="display: inline-block; width: 120px;">
                            <span>to</span>
                            <input type="time" id="hours-saturday-close" class="form-control" style="display: inline-block; width: 120px;">
                        </div>
                    </div>

                    <div class="hours-day">
                        <label style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="hours-sunday-enabled" onchange="toggleDayHours('sunday')" style="width: 20px; height: 20px;">
                            <strong style="width: 100px;">Sunday</strong>
                        </label>
                        <div id="hours-sunday-inputs" style="display: none; margin-left: 120px; gap: 0.5rem; align-items: center;">
                            <input type="time" id="hours-sunday-open" class="form-control" style="display: inline-block; width: 120px;">
                            <span>to</span>
                            <input type="time" id="hours-sunday-close" class="form-control" style="display: inline-block; width: 120px;">
                        </div>
                    </div>
                </div>

                <p class="help-text" style="margin-top: 1rem;">Check the days you're open and set the hours. Leave unchecked for closed days.</p>
            </div>

            <div class="card">
                <h2>Facebook Auto-Posting</h2>
                <p class="help-text">Automatically post new building listings to your Facebook page
                    <a href="facebook-setup.html" target="_blank" style="margin-left: 0.5rem; color: #2196f3; text-decoration: none; font-weight: 600;">📖 Setup Instructions →</a>
                </p>

                <div class="info-box" style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 1rem; border-radius: 4px; margin-bottom: 1.5rem;">
                    <p style="margin: 0; font-weight: 600; color: #856404;">⚠️ Auto-Posting Requirements</p>
                    <p style="margin: 0.5rem 0 0 0; color: #856404; font-size: 0.9rem;">Buildings will <strong>only</strong> auto-post to Facebook if they have:</p>
                    <ul style="margin: 0.5rem 0 0 1.5rem; color: #856404; font-size: 0.9rem;">
                        <li>At least one uploaded image</li>
                        <li>Valid pricing information</li>
                        <li>Complete building description (from serial number decoder)</li>
                    </ul>
                </div>

                <div class="setting-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="enableAutoPost">
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">Enable Auto-Posting to Facebook</span>
                    </label>
                </div>

                <div class="form-group" style="margin-top: 1.5rem;">
                    <label for="facebookPageId">Facebook Page ID
                        <a href="facebook-setup.html#step-5-find-your-facebook-page-id" target="_blank" style="margin-left: 0.5rem; font-size: 0.875rem; color: #2196f3; text-decoration: none;">How to find?</a>
                    </label>
                    <input type="text" id="facebookPageId" class="form-control"
                           placeholder="e.g., 123456789012345">
                    <p class="help-text">Your Facebook Page ID (found in page settings)</p>
                </div>

                <div class="form-group">
                    <label for="facebookAccessToken">Facebook Page Access Token
                        <a href="facebook-setup.html#step-4-get-your-page-access-token" target="_blank" style="margin-left: 0.5rem; font-size: 0.875rem; color: #2196f3; text-decoration: none;">How to get?</a>
                    </label>
                    <input type="password" id="facebookAccessToken" class="form-control"
                           placeholder="Enter your Facebook Page Access Token">
                    <p class="help-text">Long-lived page access token from Facebook Developer Console</p>
                </div>

                <div class="form-group">
                    <label>Auto-Post Conditions</label>
                    <div style="margin-top: 0.5rem; display: block;">
                        <label class="toggle-label" style="margin-bottom: 0.75rem; display: inline-flex;">
                            <input type="checkbox" id="autoPostNewOnly" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Only post new inventory (not repos)</span>
                        </label>
                    </div>
                    <div style="display: block;">
                        <label class="toggle-label" style="margin-bottom: 0.75rem; display: inline-flex;">
                            <input type="checkbox" id="autoPostWithImages" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Only post buildings with uploaded images</span>
                        </label>
                    </div>
                    <div style="display: block;">
                        <label class="toggle-label" style="display: inline-flex;">
                            <input type="checkbox" id="autoPostAvailableOnly" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Only post available buildings (not sold/pending)</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="autoPostTemplate">Post Template</label>
                    <textarea id="autoPostTemplate" class="form-control" rows="6"
                              placeholder="Use {{name}}, {{size}}, {{price}}, {{type}} as placeholders">🏠 New Arrival! {{name}}

📐 Size: {{size}}
💰 Cash Price: {{price}}
📍 Location: {{location}}

Call us at {{phone}} or visit our website to learn more!

#PortableBuildings #{{type}} #ForSale</textarea>
                    <p class="help-text">Customize the post message. Available placeholders: {{name}}, {{size}}, {{price}}, {{type}}, {{location}}, {{phone}}, {{rto36}}, {{rto48}}, {{rto60}}, {{rto72}}, {{rtoAll}}</p>
                </div>

                <div class="form-group" style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; border: 2px solid #e9ecef;">
                    <h3 style="margin-top: 0; color: #1a5490; font-size: 1.1rem;">🧪 Test Facebook Posting</h3>
                    <p class="help-text" style="margin-bottom: 1rem;">Send a test post to your Facebook page using a sample building from your inventory.</p>
                    <button class="btn btn-warning" onclick="testFacebookPost()" id="test-fb-btn">
                        📤 Send Test Post to Facebook
                    </button>
                    <p id="test-fb-status" class="help-text" style="margin-top: 0.75rem; margin-bottom: 0; font-weight: 600;"></p>
                </div>
            </div>

            <div class="card">
                <h2>Color Scheme</h2>
                <p class="help-text">Choose a professional 2-color gradient scheme</p>

                <div class="color-schemes">
                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="rustic-earth" checked>
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #3D7A40 0%, #2C5F2D 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Rustic Earth</h3>
                                <p>Fresh pine to deep forest - natural & professional</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #3D7A40;" title="Fresh Pine"></span>
                                    <span class="color-dot" style="background: #2C5F2D;" title="Forest Green"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="modern-ranch">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #8B3236 0%, #7C2529 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Modern Ranch</h3>
                                <p>Warm barn red to deep burgundy - bold & confident</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #8B3236;" title="Warm Red"></span>
                                    <span class="color-dot" style="background: #7C2529;" title="Barn Red"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="desert-timber">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #C19A6B 0%, #8B7355 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Desert Timber</h3>
                                <p>Warm sand to rich wood - inviting & warm</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #C19A6B;" title="Desert Sand"></span>
                                    <span class="color-dot" style="background: #8B7355;" title="Rich Wood"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="slate-blue">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #4A5568 0%, #2D3748 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Slate Blue</h3>
                                <p>Cool gray to deep slate - professional & modern</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #4A5568;" title="Slate Gray"></span>
                                    <span class="color-dot" style="background: #2D3748;" title="Deep Slate"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="forest-sage">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #6B8E6F 0%, #4A6B4E 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Forest Sage</h3>
                                <p>Soft sage to forest green - calm & natural</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #6B8E6F;" title="Sage Green"></span>
                                    <span class="color-dot" style="background: #4A6B4E;" title="Forest Green"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="navy-steel">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #2C5282 0%, #1A365D 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Navy Steel</h3>
                                <p>Steel blue to deep navy - trustworthy & strong</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #2C5282;" title="Steel Blue"></span>
                                    <span class="color-dot" style="background: #1A365D;" title="Deep Navy"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="autumn-oak">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #A0522D 0%, #6B4423 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Autumn Oak</h3>
                                <p>Burnt sienna to rich oak - rustic & grounded</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #A0522D;" title="Burnt Sienna"></span>
                                    <span class="color-dot" style="background: #6B4423;" title="Rich Oak"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="pewter-charcoal">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #6C757D 0%, #495057 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Pewter Charcoal</h3>
                                <p>Soft pewter to charcoal - elegant & timeless</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #6C757D;" title="Pewter"></span>
                                    <span class="color-dot" style="background: #495057;" title="Charcoal"></span>
                                </div>
                            </div>
                        </div>
                    </label>
                </div>

                <div class="form-group" style="margin-top: 2rem;">
                    <label for="buttonColor">Custom Button Color (Optional)</label>
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <input type="color" id="buttonColor" class="color-picker" value="#2C5F2D">
                        <input type="text" id="buttonColorHex" class="form-control" placeholder="#2C5F2D" style="max-width: 150px;">
                        <button class="btn btn-secondary btn-sm" onclick="resetButtonColor()">Reset</button>
                    </div>
                    <p class="help-text">Customize the button color on product cards (overrides scheme default)</p>
                </div>
            </div>

            <div class="card">
                <h2>Choose Your Own Color Scheme Options</h2>
                <p class="help-text">Override individual colors and background for complete control (optional - overrides color scheme above)</p>

                <div class="custom-colors-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                    <div class="form-group">
                        <label for="primaryColor">Primary Color</label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <input type="color" id="primaryColor" class="color-picker">
                            <input type="text" id="primaryColorHex" class="form-control" placeholder="e.g., #2C5F2D" style="flex: 1;">
                        </div>
                        <p class="help-text" style="font-size: 0.85rem;">Main brand color (header, buttons)</p>
                    </div>

                    <div class="form-group">
                        <label for="secondaryColor">Secondary Color</label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <input type="color" id="secondaryColor" class="color-picker">
                            <input type="text" id="secondaryColorHex" class="form-control" placeholder="e.g., #5D4E37" style="flex: 1;">
                        </div>
                        <p class="help-text" style="font-size: 0.85rem;">Accent color (links, highlights)</p>
                    </div>

                    <div class="form-group">
                        <label for="accentColor">Accent Color</label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <input type="color" id="accentColor" class="color-picker">
                            <input type="text" id="accentColorHex" class="form-control" placeholder="e.g., #C19A6B" style="flex: 1;">
                        </div>
                        <p class="help-text" style="font-size: 0.85rem;">Special elements (badges, tags)</p>
                    </div>

                    <div class="form-group">
                        <label for="headerColor">Header Background</label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <input type="color" id="headerColor" class="color-picker">
                            <input type="text" id="headerColorHex" class="form-control" placeholder="e.g., #2C5F2D" style="flex: 1;">
                        </div>
                        <p class="help-text" style="font-size: 0.85rem;">Top header/navigation bar</p>
                    </div>

                    <div class="form-group">
                        <label for="footerColor">Footer Background</label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <input type="color" id="footerColor" class="color-picker">
                            <input type="text" id="footerColorHex" class="form-control" placeholder="e.g., #2D3748" style="flex: 1;">
                        </div>
                        <p class="help-text" style="font-size: 0.85rem;">Bottom footer section</p>
                    </div>

                    <div class="form-group">
                        <label for="textColor">Primary Text Color</label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <input type="color" id="textColor" class="color-picker">
                            <input type="text" id="textColorHex" class="form-control" placeholder="e.g., #333333" style="flex: 1;">
                        </div>
                        <p class="help-text" style="font-size: 0.85rem;">Main body text color</p>
                    </div>
                </div>

                <div class="form-group" style="margin-top: 1.5rem; display: flex; gap: 1rem;">
                    <button class="btn btn-secondary" onclick="resetCustomColors()">Reset to Scheme Defaults</button>
                    <button class="btn btn-primary" onclick="applyCustomColors()">Preview Custom Colors</button>
                </div>

                <div id="custom-colors-preview" style="margin-top: 1.5rem; padding: 1.5rem; border: 2px solid #e0e0e0; border-radius: 8px; display: none;">
                    <h4 style="margin-bottom: 1rem;">Color Preview</h4>
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <div id="preview-primary" style="width: 100px; height: 100px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">Primary</div>
                        <div id="preview-secondary" style="width: 100px; height: 100px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">Secondary</div>
                        <div id="preview-accent" style="width: 100px; height: 100px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">Accent</div>
                        <div id="preview-header" style="width: 100px; height: 100px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">Header</div>
                        <div id="preview-footer" style="width: 100px; height: 100px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">Footer</div>
                    </div>
                </div>

                <hr style="margin: 2rem 0; border: none; border-top: 2px solid #e0e0e0;">

                <h3 style="margin-bottom: 1rem;">Background Options</h3>

                <div class="form-group">
                    <label>Background Type</label>
                    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
                        <label class="radio-option">
                            <input type="radio" name="backgroundType" value="solid" checked>
                            <span>Solid Color</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="backgroundType" value="gradient">
                            <span>Gradient</span>
                        </label>
                    </div>
                </div>

                <div id="solid-background-options">
                    <div class="form-group">
                        <label>Preset Colors</label>
                        <div class="color-swatches">
                            <div class="color-swatch" data-color="#ffffff" style="background: #ffffff; border: 2px solid #ddd;" title="White (Default)"></div>
                            <div class="color-swatch" data-color="#f8f9fa" style="background: #f8f9fa;" title="Light Gray"></div>
                            <div class="color-swatch" data-color="#f5f5f5" style="background: #f5f5f5;" title="Soft Gray"></div>
                            <div class="color-swatch" data-color="#e9ecef" style="background: #e9ecef;" title="Medium Gray"></div>
                            <div class="color-swatch" data-color="#fff8f0" style="background: #fff8f0;" title="Cream"></div>
                            <div class="color-swatch" data-color="#fef6e4" style="background: #fef6e4;" title="Warm Beige"></div>
                            <div class="color-swatch" data-color="#f0f8ff" style="background: #f0f8ff;" title="Alice Blue"></div>
                            <div class="color-swatch" data-color="#f5f9f5" style="background: #f5f9f5;" title="Mint Cream"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="customBgColor">Custom Solid Color</label>
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <input type="color" id="customBgColor" class="color-picker" value="#ffffff">
                            <input type="text" id="customBgColorHex" class="form-control" placeholder="#ffffff" style="max-width: 150px;">
                        </div>
                    </div>
                </div>

                <div id="gradient-background-options" style="display: none;">
                    <div class="form-group">
                        <label>Preset Gradients</label>
                        <div class="gradient-swatches">
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);" title="Purple Dream"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #f093fb 0%, #f5576c 100%)" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);" title="Pink Sunset"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);" title="Ocean Blue"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);" title="Fresh Mint"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #fa709a 0%, #fee140 100%)" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);" title="Sunset Glow"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #30cfd0 0%, #330867 100%)" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);" title="Deep Ocean"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);" title="Soft Cotton"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);" title="Warm Peach"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);" title="Cotton Candy"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)" style="background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);" title="Lavender Dream"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%)" style="background: linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%);" title="Pale Rose"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%)" style="background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);" title="Sky Dreams"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Custom Gradient</label>
                        <div style="display: flex; gap: 1rem; align-items: center; margin-bottom: 0.5rem;">
                            <label style="font-size: 0.9rem;">Start Color:</label>
                            <input type="color" id="gradientColor1" class="color-picker" value="#667eea">
                            <input type="text" id="gradientColor1Hex" class="form-control" placeholder="#667eea" style="max-width: 150px;">
                        </div>
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <label style="font-size: 0.9rem;">End Color:</label>
                            <input type="color" id="gradientColor2" class="color-picker" value="#764ba2">
                            <input type="text" id="gradientColor2Hex" class="form-control" placeholder="#764ba2" style="max-width: 150px;">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Background Preview</label>
                    <div id="background-preview" style="width: 100%; height: 100px; border: 2px solid #ddd; border-radius: 8px; background: #ffffff;"></div>
                </div>
            </div>

            <div class="card">
                <h2>Welcome Message</h2>

                <div class="form-group">
                    <label for="welcomeTitle">Title</label>
                    <input type="text" id="welcomeTitle" class="form-control"
                           value="Welcome to Community Portable Buildings of West Monroe, LA and Columbia, LA">
                </div>

                <div class="form-group">
                    <label for="welcomeMessage">Message</label>
                    <textarea id="welcomeMessage" class="form-control" rows="3">Take a look at what we have in stock, and let us know if we can design you a custom Graceland Building or help in any way!</textarea>
                </div>
            </div>

            <div class="card">
                <h2>Hero Carousel Images</h2>
                <p class="help-text">Current images in the carousel. Drag to reorder, click X to remove.</p>

                <div id="carousel-images" class="carousel-manager">
                    <!-- Will be populated by JavaScript -->
                </div>

                <div class="form-group">
                    <label for="newCarouselImage">Add New Image (filename from root directory)</label>
                    <div class="input-group">
                        <input type="text" id="newCarouselImage" class="form-control"
                               placeholder="e.g., Cabin-12x24-Angle.jpg">
                        <button class="btn btn-secondary" onclick="addCarouselImage()">Add Image</button>
                    </div>
                </div>
            </div>

            <button class="btn btn-primary btn-lg" onclick="saveCustomization()">💾 Save All Customization</button>
        </div>

        <!-- Domain & Website Tab -->
        <div class="tab-content" id="domain-tab">
            <!-- Dark Theme Domain Management with Yellow Accents -->
            <style>
                .domain-card {
                    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                    border-radius: 12px;
                    padding: 2rem;
                    margin-bottom: 2rem;
                    box-shadow: 0 8px 24px rgba(0,0,0,0.3);
                    border: 1px solid #2a2a3e;
                }

                .domain-card h2 {
                    color: #ffd60a;
                    margin-bottom: 0.5rem;
                    font-size: 1.75rem;
                    font-weight: 700;
                }

                .domain-card p {
                    color: #a8a8b8;
                    margin-bottom: 1.5rem;
                }

                .domain-url-display {
                    background: #0f1419;
                    border: 2px solid #ffd60a;
                    border-radius: 8px;
                    padding: 1.25rem;
                    font-family: 'Courier New', monospace;
                    font-size: 1.125rem;
                    color: #ffd60a;
                    text-align: center;
                    font-weight: 600;
                    margin: 1.5rem 0;
                    box-shadow: 0 0 20px rgba(255, 214, 10, 0.15);
                }

                .domain-badge {
                    display: inline-block;
                    background: linear-gradient(135deg, #ffd60a 0%, #ffea00 100%);
                    color: #1a1a2e;
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-size: 0.875rem;
                    font-weight: 700;
                    margin-left: 1rem;
                    box-shadow: 0 4px 12px rgba(255, 214, 10, 0.3);
                }

                .domain-action-btn {
                    background: linear-gradient(135deg, #ffd60a 0%, #ffea00 100%);
                    color: #1a1a2e;
                    border: none;
                    padding: 0.875rem 2rem;
                    border-radius: 8px;
                    font-weight: 700;
                    font-size: 1rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 4px 12px rgba(255, 214, 10, 0.3);
                    margin-right: 1rem;
                }

                .domain-action-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(255, 214, 10, 0.5);
                }

                .domain-action-btn:active {
                    transform: translateY(0);
                }

                .domain-section {
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 8px;
                    padding: 1.5rem;
                    margin-top: 1.5rem;
                    border-left: 4px solid #ffd60a;
                }

                .domain-section h3 {
                    color: #fff;
                    margin-bottom: 1rem;
                    font-size: 1.25rem;
                }

                .domain-input {
                    background: #0f1419;
                    border: 2px solid #2a2a3e;
                    color: #fff;
                    padding: 0.875rem;
                    border-radius: 8px;
                    font-size: 1rem;
                    width: 100%;
                    transition: border-color 0.3s ease;
                }

                .domain-input:focus {
                    outline: none;
                    border-color: #ffd60a;
                    box-shadow: 0 0 0 3px rgba(255, 214, 10, 0.1);
                }

                .domain-input::placeholder {
                    color: #5a5a6a;
                }

                .dns-instructions {
                    background: #0f1419;
                    border: 1px solid #2a2a3e;
                    border-radius: 8px;
                    padding: 1.5rem;
                    margin-top: 1rem;
                }

                .dns-instructions h4 {
                    color: #ffd60a;
                    margin-bottom: 1rem;
                    font-size: 1.125rem;
                }

                .dns-record {
                    background: rgba(255, 214, 10, 0.05);
                    border-left: 3px solid #ffd60a;
                    padding: 1rem;
                    margin: 0.75rem 0;
                    border-radius: 4px;
                }

                .dns-record code {
                    color: #ffd60a;
                    font-family: 'Courier New', monospace;
                    background: #1a1a2e;
                    padding: 0.25rem 0.5rem;
                    border-radius: 4px;
                }

                .dns-record strong {
                    color: #fff;
                }

                .verification-status {
                    display: inline-flex;
                    align-items: center;
                    gap: 0.5rem;
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-weight: 600;
                    font-size: 0.875rem;
                }

                .verification-status.pending {
                    background: rgba(255, 152, 0, 0.15);
                    color: #ff9800;
                    border: 1px solid #ff9800;
                }

                .verification-status.verified {
                    background: rgba(76, 175, 80, 0.15);
                    color: #4caf50;
                    border: 1px solid #4caf50;
                }

                .verification-status.failed {
                    background: rgba(244, 67, 54, 0.15);
                    color: #f44336;
                    border: 1px solid #f44336;
                }

                .help-note {
                    color: #a8a8b8;
                    font-size: 0.9rem;
                    margin-top: 0.75rem;
                    line-height: 1.6;
                }

                .copy-btn {
                    background: rgba(255, 214, 10, 0.1);
                    border: 1px solid #ffd60a;
                    color: #ffd60a;
                    padding: 0.375rem 0.75rem;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 0.875rem;
                    font-weight: 600;
                    transition: all 0.2s ease;
                    margin-left: 0.5rem;
                }

                .copy-btn:hover {
                    background: rgba(255, 214, 10, 0.2);
                }
            </style>

            <!-- Subdomain Picker (shown if user doesn't have subdomain) -->
            <div class="domain-card" id="subdomain-picker-card" style="display: none;">
                <h2>🌐 Choose Your Website Address</h2>
                <p>Pick a unique subdomain for your website. This will be your permanent web address.</p>

                <div class="domain-section">
                    <div class="form-group">
                        <label style="color: #ffd60a; font-weight: 600; display: block; margin-bottom: 0.75rem;">
                            Your Subdomain
                        </label>
                        <div style="display: flex; gap: 0.75rem; align-items: center;">
                            <input type="text"
                                   id="subdomain-input"
                                   class="domain-input"
                                   placeholder="yourbusiness"
                                   style="flex: 1; text-transform: lowercase;"
                                   oninput="checkSubdomainAvailability()">
                            <span style="color: #a8a8b8; font-weight: 600; white-space: nowrap;">.shed-sync.com</span>
                        </div>
                        <div id="subdomain-validation" style="margin-top: 0.75rem; font-weight: 600; display: none;">
                            <!-- Validation message will appear here -->
                        </div>
                        <p class="help-note">
                            💡 Use 3-30 characters: lowercase letters, numbers, and hyphens. Cannot start or end with a hyphen.<br>
                            <strong style="color: #ffd60a;">Example:</strong> mountain-sheds → mountain-sheds.shed-sync.com
                        </p>
                    </div>

                    <button class="domain-action-btn" onclick="saveSubdomain()" id="save-subdomain-btn" disabled style="opacity: 0.5; cursor: not-allowed;">
                        💾 Claim This Subdomain
                    </button>
                </div>
            </div>

            <!-- Your Subdomain (shown if user has subdomain) -->
            <div class="domain-card" id="subdomain-display-card" style="display: none;">
                <h2>🌐 Your Website Address</h2>
                <p>Your website is live at:</p>

                <div class="domain-url-display" id="subdomain-url">
                    Loading...
                </div>

                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <button class="domain-action-btn" onclick="viewLiveSite()">
                        🚀 View Live Site
                    </button>
                    <button class="domain-action-btn" onclick="copySubdomainUrl()">
                        📋 Copy URL
                    </button>
                </div>
            </div>

            <!-- Custom Domain Section -->
            <div class="domain-card">
                <h2>🎯 Connect Your Own Domain</h2>
                <p>Want to use your own domain name? Connect it here (e.g., buytheshed.com)</p>

                <div class="domain-section">
                    <h3>Custom Domain</h3>

                    <div id="custom-domain-display" style="display: none;">
                        <div class="domain-url-display" style="border-color: #4caf50;">
                            <span id="current-custom-domain"></span>
                            <span class="verification-status verified" id="domain-verification-status">
                                ✓ Verified
                            </span>
                        </div>
                        <button class="domain-action-btn" onclick="removeCustomDomain()">
                            🗑️ Remove Custom Domain
                        </button>
                    </div>

                    <div id="custom-domain-form">
                        <div class="form-group">
                            <input type="text"
                                   id="custom-domain-input"
                                   class="domain-input"
                                   placeholder="Enter your domain (e.g., buytheshed.com)"
                                   style="margin-bottom: 1rem;">
                            <p class="help-note">
                                💡 Enter just the domain name without http:// or www. Example: <strong style="color: #ffd60a;">buytheshed.com</strong>
                            </p>
                        </div>

                        <button class="domain-action-btn" onclick="saveCustomDomain()">
                            💾 Save Custom Domain
                        </button>
                    </div>
                </div>

                <!-- DNS Instructions -->
                <div class="dns-instructions" id="dns-instructions" style="display: none;">
                    <h4>⚙️ DNS Configuration Required</h4>
                    <p style="color: #a8a8b8; margin-bottom: 1rem;">
                        Add these DNS records at your domain registrar (GoDaddy, Namecheap, Cloudflare, etc.):
                    </p>

                    <div class="dns-record">
                        <strong>Type:</strong> <code>CNAME</code><br>
                        <strong>Name:</strong> <code>@</code> or <code id="dns-domain-name">yourdomain.com</code><br>
                        <strong>Value:</strong> <code id="dns-subdomain-value">your-subdomain.shed-sync.com</code>
                        <button class="copy-btn" onclick="copyDnsValue()">Copy</button>
                    </div>

                    <p class="help-note">
                        ⏱️ DNS changes can take 5-60 minutes to propagate. We'll automatically verify your domain once the DNS is configured.
                    </p>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="domain-card">
                <h2>📊 Website Statistics</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                    <div style="background: rgba(255, 214, 10, 0.1); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ffd60a;">
                        <div style="font-size: 2rem; color: #ffd60a; font-weight: 700;" id="building-count">0</div>
                        <div style="color: #a8a8b8; font-size: 0.9rem;">Buildings Listed</div>
                    </div>
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #4caf50;">
                        <div style="font-size: 2rem; color: #4caf50; font-weight: 700;" id="available-count">0</div>
                        <div style="color: #a8a8b8; font-size: 0.9rem;">Available</div>
                    </div>
                    <div style="background: rgba(33, 150, 243, 0.1); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #2196f3;">
                        <div style="font-size: 2rem; color: #2196f3; font-weight: 700;" id="photo-count">0</div>
                        <div style="color: #a8a8b8; font-size: 0.9rem;">Photos Uploaded</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Display Settings Tab -->
        <div class="tab-content" id="settings-tab">
            <div class="card">
                <h2>Display Settings</h2>

                <div class="setting-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="showCashPrice" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">Show Cash Prices</span>
                    </label>
                </div>

                <div class="setting-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="showRtoOptions" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">Show Rent-to-Own Options</span>
                    </label>
                </div>

                <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
            </div>
        </div>

        <!-- Other Lots Tab -->
        <div class="tab-content" id="lots-tab">
            <div class="card">
                <h2>Manage Other Lot Locations</h2>
                <p class="help-text">Track inventory from other lot locations. Buildings will be tagged with their lot location.</p>

                <div id="lots-list" class="lots-list">
                    <!-- Will be populated by JavaScript -->
                </div>

                <div class="card" style="background: var(--background); margin-top: 1.5rem;">
                    <h3>Sync Inventory</h3>
                    <p class="help-text">✅ Automatic sync runs daily at 2 AM. Or trigger a manual sync now:</p>
                    <button class="btn btn-primary" onclick="triggerManualSync()" id="manual-sync-btn">
                        🔄 Run Manual Sync Now
                    </button>
                    <p id="sync-status" class="help-text" style="margin-top: 1rem; color: var(--text-light);"></p>
                </div>

                <div class="card" style="background: var(--background); margin-top: 1.5rem;">
                    <h3>Add New Lot Location</h3>

                    <!-- Multi-lot feature disabled message -->
                    <div id="multi-lot-disabled" style="display: none;">
                        <p class="help-text" style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #2196f3;">
                            📍 Want to manage multiple lot locations? Contact DealerSync to find out how to add support for your other locations:<br>
                            <strong style="color: #2196f3; margin-top: 0.5rem; display: inline-block;">support@dealersync.com</strong>
                        </p>
                    </div>

                    <!-- Multi-lot feature enabled form -->
                    <div id="multi-lot-enabled" style="display: none;">
                        <p class="help-text">Enter GPB Sales credentials for another lot location. Buildings will be automatically synced daily and tagged with the lot name.</p>
                        <div class="form-group">
                            <label for="lot-name">Lot Name/Location</label>
                            <input type="text" id="lot-name" class="form-control" placeholder="e.g., Columbia, LA">
                        </div>
                        <div class="form-group">
                            <label for="lot-username">GPB Sales Username/Email</label>
                            <input type="email" id="lot-username" class="form-control" placeholder="Enter GPB Sales email">
                        </div>
                        <div class="form-group">
                            <label for="lot-password">GPB Sales Password</label>
                            <input type="password" id="lot-password" class="form-control" placeholder="Enter GPB Sales password">
                        </div>
                        <button class="btn btn-primary" onclick="addLot()">Add Lot Location</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Buildings Tab -->
        <div class="tab-content" id="buildings-tab">
            <div class="card">
                <h2>Manage Buildings</h2>

                <div class="admin-filters">
                    <div class="admin-filter-group">
                        <input type="text" id="building-search" class="form-control" placeholder="Search by serial number, size, or type...">
                    </div>
                    <div class="admin-filter-group">
                        <select id="building-status-filter" class="form-control">
                            <option value="all">All Buildings</option>
                            <option value="available">Available</option>
                            <option value="pending">Pending</option>
                            <option value="sold">Sold</option>
                            <option value="hidden">Hidden</option>
                        </select>
                        <select id="building-type-filter" class="form-control">
                            <option value="all">All Types</option>
                            <option value="new">New Inventory</option>
                            <option value="repo">Pre-Owned (Repo)</option>
                        </select>
                    </div>
                </div>

                <div class="buildings-list" id="buildings-list">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <div class="toast" id="toast">
        <span id="toast-message"></span>
    </div>

    <!-- Image Upload Modal -->
    <div class="modal" id="image-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Manage Building Images</h2>
                <button class="modal-close" onclick="closeImageModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modal-building-info"></div>

                <div class="image-gallery" id="building-images">
                    <!-- Uploaded images will appear here -->
                </div>

                <div class="upload-section">
                    <label class="upload-btn">
                        <input type="file" id="image-upload" accept="image/*,.heic" multiple style="display: none;">
                        <span>📷 Upload Photos (Max 5)</span>
                    </label>
                    <p class="help-text">Supports JPG, PNG, HEIC. HEIC will be auto-converted. Drag images to reorder. Click ★ to set main image.</p>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeImageModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.4/dist/heic2any.min.js"></script>
    <script src="decoder.js"></script>
    <script src="inventory.js"></script>
    <script src="admin.js"></script>
</body>
</html>
