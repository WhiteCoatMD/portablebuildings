<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Community Portable Buildings</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <script>
        // Check authentication before loading page
        const token = localStorage.getItem('auth_token');
        if (!token) {
            window.location.href = 'login.html';
        }
    </script>

    <header class="admin-header">
        <div class="container">
            <h1>Admin Panel</h1>
            <div class="header-actions">
                <span id="user-email" style="margin-right: 1rem; color: #666;"></span>
                <a href="super-admin.html" class="btn btn-secondary" id="super-admin-link" style="display: none; margin-right: 0.5rem;">Super Admin</a>
                <a href="index.html" target="_blank" class="btn btn-secondary">View Site</a>
                <button class="btn btn-secondary" onclick="logout()" style="margin-left: 0.5rem;">Logout</button>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="admin-tabs">
            <button class="tab-btn active" data-tab="customization">Site Customization</button>
            <button class="tab-btn" data-tab="settings">Display Settings</button>
            <button class="tab-btn" data-tab="lots">Other Lots</button>
            <button class="tab-btn" data-tab="buildings">Manage Buildings</button>
        </div>

        <!-- Site Customization Tab -->
        <div class="tab-content active" id="customization-tab">
            <div class="card">
                <h2>Business Information</h2>

                <div class="form-group">
                    <label for="businessName">Business Name</label>
                    <input type="text" id="businessName" class="form-control"
                           placeholder="e.g., Community Portable Buildings">
                    <p class="help-text">This appears in the header of your website</p>
                </div>

                <div class="form-group">
                    <label for="businessPhone">Phone Number</label>
                    <input type="tel" id="businessPhone" class="form-control"
                           placeholder="e.g., 318-594-5909">
                    <p class="help-text">Main contact phone number for your business</p>
                </div>

                <div class="form-group">
                    <label for="businessEmail">Email Address</label>
                    <input type="email" id="businessEmail" class="form-control"
                           placeholder="e.g., info@yourcompany.com">
                    <p class="help-text">Business email for customer inquiries</p>
                </div>

                <div class="form-group">
                    <label for="businessAddress">Physical Address</label>
                    <textarea id="businessAddress" class="form-control" rows="2"
                              placeholder="e.g., 123 Main St, West Monroe, LA 71291"></textarea>
                    <p class="help-text">Your business location (optional)</p>
                </div>

                <div class="form-group">
                    <label for="facebookUrl">Facebook Page URL</label>
                    <input type="url" id="facebookUrl" class="form-control"
                           placeholder="e.g., https://facebook.com/yourpage">
                    <p class="help-text">Link to your business Facebook page</p>
                </div>

                <div class="form-group">
                    <label for="instagramUrl">Instagram Profile URL</label>
                    <input type="url" id="instagramUrl" class="form-control"
                           placeholder="e.g., https://instagram.com/yourprofile">
                    <p class="help-text">Link to your business Instagram profile</p>
                </div>

                <div class="form-group">
                    <label for="twitterUrl">Twitter/X Profile URL</label>
                    <input type="url" id="twitterUrl" class="form-control"
                           placeholder="e.g., https://twitter.com/yourprofile">
                    <p class="help-text">Link to your business Twitter/X profile (optional)</p>
                </div>
            </div>

            <div class="card">
                <h2>Facebook Auto-Posting</h2>
                <p class="help-text">Automatically post new building listings to your Facebook page
                    <a href="facebook-setup.html" target="_blank" style="margin-left: 0.5rem; color: #2196f3; text-decoration: none; font-weight: 600;">üìñ Setup Instructions ‚Üí</a>
                </p>

                <div class="info-box" style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 1rem; border-radius: 4px; margin-bottom: 1.5rem;">
                    <p style="margin: 0; font-weight: 600; color: #856404;">‚ö†Ô∏è Auto-Posting Requirements</p>
                    <p style="margin: 0.5rem 0 0 0; color: #856404; font-size: 0.9rem;">Buildings will <strong>only</strong> auto-post to Facebook if they have:</p>
                    <ul style="margin: 0.5rem 0 0 1.5rem; color: #856404; font-size: 0.9rem;">
                        <li>At least one uploaded image</li>
                        <li>Valid pricing information</li>
                        <li>Complete building description (from serial number decoder)</li>
                    </ul>
                </div>

                <div class="setting-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="enableAutoPost">
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">Enable Auto-Posting to Facebook</span>
                    </label>
                </div>

                <div class="form-group" style="margin-top: 1.5rem;">
                    <label for="facebookPageId">Facebook Page ID
                        <a href="facebook-setup.html#step-5-find-your-facebook-page-id" target="_blank" style="margin-left: 0.5rem; font-size: 0.875rem; color: #2196f3; text-decoration: none;">How to find?</a>
                    </label>
                    <input type="text" id="facebookPageId" class="form-control"
                           placeholder="e.g., 123456789012345">
                    <p class="help-text">Your Facebook Page ID (found in page settings)</p>
                </div>

                <div class="form-group">
                    <label for="facebookAccessToken">Facebook Page Access Token
                        <a href="facebook-setup.html#step-4-get-your-page-access-token" target="_blank" style="margin-left: 0.5rem; font-size: 0.875rem; color: #2196f3; text-decoration: none;">How to get?</a>
                    </label>
                    <input type="password" id="facebookAccessToken" class="form-control"
                           placeholder="Enter your Facebook Page Access Token">
                    <p class="help-text">Long-lived page access token from Facebook Developer Console</p>
                </div>

                <div class="form-group">
                    <label>Auto-Post Conditions</label>
                    <div style="margin-top: 0.5rem; display: block;">
                        <label class="toggle-label" style="margin-bottom: 0.75rem; display: inline-flex;">
                            <input type="checkbox" id="autoPostNewOnly" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Only post new inventory (not repos)</span>
                        </label>
                    </div>
                    <div style="display: block;">
                        <label class="toggle-label" style="margin-bottom: 0.75rem; display: inline-flex;">
                            <input type="checkbox" id="autoPostWithImages" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Only post buildings with uploaded images</span>
                        </label>
                    </div>
                    <div style="display: block;">
                        <label class="toggle-label" style="display: inline-flex;">
                            <input type="checkbox" id="autoPostAvailableOnly" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">Only post available buildings (not sold/pending)</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="autoPostTemplate">Post Template</label>
                    <textarea id="autoPostTemplate" class="form-control" rows="6"
                              placeholder="Use {{name}}, {{size}}, {{price}}, {{type}} as placeholders">üè† New Arrival! {{name}}

üìê Size: {{size}}
üí∞ Cash Price: {{price}}
üìç Location: {{location}}

Call us at {{phone}} or visit our website to learn more!

#PortableBuildings #{{type}} #ForSale</textarea>
                    <p class="help-text">Customize the post message. Available placeholders: {{name}}, {{size}}, {{price}}, {{type}}, {{location}}, {{phone}}, {{rto36}}, {{rto48}}, {{rto60}}, {{rto72}}, {{rtoAll}}</p>
                </div>

                <div class="form-group" style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; border: 2px solid #e9ecef;">
                    <h3 style="margin-top: 0; color: #1a5490; font-size: 1.1rem;">üß™ Test Facebook Posting</h3>
                    <p class="help-text" style="margin-bottom: 1rem;">Send a test post to your Facebook page using a sample building from your inventory.</p>
                    <button class="btn btn-warning" onclick="testFacebookPost()" id="test-fb-btn">
                        üì§ Send Test Post to Facebook
                    </button>
                    <p id="test-fb-status" class="help-text" style="margin-top: 0.75rem; margin-bottom: 0; font-weight: 600;"></p>
                </div>
            </div>

            <div class="card">
                <h2>Color Scheme</h2>
                <p class="help-text">Choose a professional 2-color gradient scheme</p>

                <div class="color-schemes">
                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="rustic-earth" checked>
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #3D7A40 0%, #2C5F2D 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Rustic Earth</h3>
                                <p>Fresh pine to deep forest - natural & professional</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #3D7A40;" title="Fresh Pine"></span>
                                    <span class="color-dot" style="background: #2C5F2D;" title="Forest Green"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="modern-ranch">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #8B3236 0%, #7C2529 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Modern Ranch</h3>
                                <p>Warm barn red to deep burgundy - bold & confident</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #8B3236;" title="Warm Red"></span>
                                    <span class="color-dot" style="background: #7C2529;" title="Barn Red"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="desert-timber">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #C19A6B 0%, #8B7355 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Desert Timber</h3>
                                <p>Warm sand to rich wood - inviting & warm</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #C19A6B;" title="Desert Sand"></span>
                                    <span class="color-dot" style="background: #8B7355;" title="Rich Wood"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="slate-blue">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #4A5568 0%, #2D3748 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Slate Blue</h3>
                                <p>Cool gray to deep slate - professional & modern</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #4A5568;" title="Slate Gray"></span>
                                    <span class="color-dot" style="background: #2D3748;" title="Deep Slate"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="forest-sage">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #6B8E6F 0%, #4A6B4E 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Forest Sage</h3>
                                <p>Soft sage to forest green - calm & natural</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #6B8E6F;" title="Sage Green"></span>
                                    <span class="color-dot" style="background: #4A6B4E;" title="Forest Green"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="navy-steel">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #2C5282 0%, #1A365D 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Navy Steel</h3>
                                <p>Steel blue to deep navy - trustworthy & strong</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #2C5282;" title="Steel Blue"></span>
                                    <span class="color-dot" style="background: #1A365D;" title="Deep Navy"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="autumn-oak">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #A0522D 0%, #6B4423 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Autumn Oak</h3>
                                <p>Burnt sienna to rich oak - rustic & grounded</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #A0522D;" title="Burnt Sienna"></span>
                                    <span class="color-dot" style="background: #6B4423;" title="Rich Oak"></span>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="color-scheme-option">
                        <input type="radio" name="colorScheme" value="pewter-charcoal">
                        <div class="scheme-preview">
                            <div class="scheme-header">
                                <div class="scheme-gradient" style="background: linear-gradient(135deg, #6C757D 0%, #495057 100%);"></div>
                            </div>
                            <div class="scheme-info">
                                <h3>Pewter Charcoal</h3>
                                <p>Soft pewter to charcoal - elegant & timeless</p>
                                <div class="scheme-colors">
                                    <span class="color-dot" style="background: #6C757D;" title="Pewter"></span>
                                    <span class="color-dot" style="background: #495057;" title="Charcoal"></span>
                                </div>
                            </div>
                        </div>
                    </label>
                </div>

                <div class="form-group" style="margin-top: 2rem;">
                    <label for="buttonColor">Custom Button Color (Optional)</label>
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <input type="color" id="buttonColor" class="color-picker" value="#2C5F2D">
                        <input type="text" id="buttonColorHex" class="form-control" placeholder="#2C5F2D" style="max-width: 150px;">
                        <button class="btn btn-secondary btn-sm" onclick="resetButtonColor()">Reset</button>
                    </div>
                    <p class="help-text">Customize the button color on product cards (overrides scheme default)</p>
                </div>
            </div>

            <div class="card">
                <h2>Background Color</h2>
                <p class="help-text">Choose a background color or gradient for your website</p>

                <div class="form-group">
                    <label>Background Type</label>
                    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
                        <label class="radio-option">
                            <input type="radio" name="backgroundType" value="solid" checked>
                            <span>Solid Color</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="backgroundType" value="gradient">
                            <span>Gradient</span>
                        </label>
                    </div>
                </div>

                <div id="solid-background-options">
                    <div class="form-group">
                        <label>Preset Colors</label>
                        <div class="color-swatches">
                            <div class="color-swatch" data-color="#ffffff" style="background: #ffffff; border: 2px solid #ddd;" title="White (Default)"></div>
                            <div class="color-swatch" data-color="#f8f9fa" style="background: #f8f9fa;" title="Light Gray"></div>
                            <div class="color-swatch" data-color="#f5f5f5" style="background: #f5f5f5;" title="Soft Gray"></div>
                            <div class="color-swatch" data-color="#e9ecef" style="background: #e9ecef;" title="Medium Gray"></div>
                            <div class="color-swatch" data-color="#fff8f0" style="background: #fff8f0;" title="Cream"></div>
                            <div class="color-swatch" data-color="#fef6e4" style="background: #fef6e4;" title="Warm Beige"></div>
                            <div class="color-swatch" data-color="#f0f8ff" style="background: #f0f8ff;" title="Alice Blue"></div>
                            <div class="color-swatch" data-color="#f5f9f5" style="background: #f5f9f5;" title="Mint Cream"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="customBgColor">Custom Solid Color</label>
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <input type="color" id="customBgColor" class="color-picker" value="#ffffff">
                            <input type="text" id="customBgColorHex" class="form-control" placeholder="#ffffff" style="max-width: 150px;">
                        </div>
                    </div>
                </div>

                <div id="gradient-background-options" style="display: none;">
                    <div class="form-group">
                        <label>Preset Gradients</label>
                        <div class="gradient-swatches">
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);" title="Purple Dream"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #f093fb 0%, #f5576c 100%)" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);" title="Pink Sunset"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);" title="Ocean Blue"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);" title="Fresh Mint"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #fa709a 0%, #fee140 100%)" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);" title="Sunset Glow"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #30cfd0 0%, #330867 100%)" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);" title="Deep Ocean"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);" title="Soft Cotton"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);" title="Warm Peach"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);" title="Cotton Candy"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)" style="background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);" title="Lavender Dream"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%)" style="background: linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%);" title="Pale Rose"></div>
                            <div class="gradient-swatch" data-gradient="linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%)" style="background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);" title="Sky Dreams"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Custom Gradient</label>
                        <div style="display: flex; gap: 1rem; align-items: center; margin-bottom: 0.5rem;">
                            <label style="font-size: 0.9rem;">Start Color:</label>
                            <input type="color" id="gradientColor1" class="color-picker" value="#667eea">
                            <input type="text" id="gradientColor1Hex" class="form-control" placeholder="#667eea" style="max-width: 150px;">
                        </div>
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <label style="font-size: 0.9rem;">End Color:</label>
                            <input type="color" id="gradientColor2" class="color-picker" value="#764ba2">
                            <input type="text" id="gradientColor2Hex" class="form-control" placeholder="#764ba2" style="max-width: 150px;">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Preview</label>
                    <div id="background-preview" style="width: 100%; height: 100px; border: 2px solid #ddd; border-radius: 8px; background: #ffffff;"></div>
                </div>
            </div>

            <div class="card">
                <h2>Welcome Message</h2>

                <div class="form-group">
                    <label for="welcomeTitle">Title</label>
                    <input type="text" id="welcomeTitle" class="form-control"
                           value="Welcome to Community Portable Buildings of West Monroe, LA and Columbia, LA">
                </div>

                <div class="form-group">
                    <label for="welcomeMessage">Message</label>
                    <textarea id="welcomeMessage" class="form-control" rows="3">Take a look at what we have in stock, and let us know if we can design you a custom Graceland Building or help in any way!</textarea>
                </div>
            </div>

            <div class="card">
                <h2>Hero Carousel Images</h2>
                <p class="help-text">Current images in the carousel. Drag to reorder, click X to remove.</p>

                <div id="carousel-images" class="carousel-manager">
                    <!-- Will be populated by JavaScript -->
                </div>

                <div class="form-group">
                    <label for="newCarouselImage">Add New Image (filename from root directory)</label>
                    <div class="input-group">
                        <input type="text" id="newCarouselImage" class="form-control"
                               placeholder="e.g., Cabin-12x24-Angle.jpg">
                        <button class="btn btn-secondary" onclick="addCarouselImage()">Add Image</button>
                    </div>
                </div>
            </div>

            <button class="btn btn-primary btn-lg" onclick="saveCustomization()">üíæ Save All Customization</button>
        </div>

        <!-- Display Settings Tab -->
        <div class="tab-content" id="settings-tab">
            <div class="card">
                <h2>Display Settings</h2>

                <div class="setting-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="showCashPrice" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">Show Cash Prices</span>
                    </label>
                </div>

                <div class="setting-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="showRtoOptions" checked>
                        <span class="toggle-slider"></span>
                        <span class="toggle-text">Show Rent-to-Own Options</span>
                    </label>
                </div>

                <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
            </div>
        </div>

        <!-- Other Lots Tab -->
        <div class="tab-content" id="lots-tab">
            <div class="card">
                <h2>Manage Other Lot Locations</h2>
                <p class="help-text">Track inventory from other lot locations. Buildings will be tagged with their lot location.</p>

                <div id="lots-list" class="lots-list">
                    <!-- Will be populated by JavaScript -->
                </div>

                <div class="card" style="background: var(--background); margin-top: 1.5rem;">
                    <h3>Sync Inventory</h3>
                    <p class="help-text">‚úÖ Automatic sync runs daily at 2 AM. Or trigger a manual sync now:</p>
                    <button class="btn btn-primary" onclick="triggerManualSync()" id="manual-sync-btn">
                        üîÑ Run Manual Sync Now
                    </button>
                    <p id="sync-status" class="help-text" style="margin-top: 1rem; color: var(--text-light);"></p>
                </div>

                <div class="card" style="background: var(--background); margin-top: 1.5rem;">
                    <h3>Add New Lot Location</h3>
                    <p class="help-text">Enter GPB Sales credentials for another lot location. Buildings will be automatically synced daily and tagged with the lot name.</p>
                    <div class="form-group">
                        <label for="lot-name">Lot Name/Location</label>
                        <input type="text" id="lot-name" class="form-control" placeholder="e.g., Columbia, LA">
                    </div>
                    <div class="form-group">
                        <label for="lot-username">GPB Sales Username/Email</label>
                        <input type="email" id="lot-username" class="form-control" placeholder="Enter GPB Sales email">
                    </div>
                    <div class="form-group">
                        <label for="lot-password">GPB Sales Password</label>
                        <input type="password" id="lot-password" class="form-control" placeholder="Enter GPB Sales password">
                    </div>
                    <button class="btn btn-primary" onclick="addLot()">Add Lot Location</button>
                </div>
            </div>
        </div>

        <!-- Buildings Tab -->
        <div class="tab-content" id="buildings-tab">
            <div class="card">
                <h2>Manage Buildings</h2>

                <div class="admin-filters">
                    <div class="admin-filter-group">
                        <input type="text" id="building-search" class="form-control" placeholder="Search by serial number, size, or type...">
                    </div>
                    <div class="admin-filter-group">
                        <select id="building-status-filter" class="form-control">
                            <option value="all">All Buildings</option>
                            <option value="available">Available</option>
                            <option value="pending">Pending</option>
                            <option value="sold">Sold</option>
                            <option value="hidden">Hidden</option>
                        </select>
                        <select id="building-type-filter" class="form-control">
                            <option value="all">All Types</option>
                            <option value="new">New Inventory</option>
                            <option value="repo">Pre-Owned (Repo)</option>
                        </select>
                    </div>
                </div>

                <div class="buildings-list" id="buildings-list">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <div class="toast" id="toast">
        <span id="toast-message"></span>
    </div>

    <!-- Image Upload Modal -->
    <div class="modal" id="image-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Manage Building Images</h2>
                <button class="modal-close" onclick="closeImageModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modal-building-info"></div>

                <div class="image-gallery" id="building-images">
                    <!-- Uploaded images will appear here -->
                </div>

                <div class="upload-section">
                    <label class="upload-btn">
                        <input type="file" id="image-upload" accept="image/*,.heic" multiple style="display: none;">
                        <span>üì∑ Upload Photos (Max 5)</span>
                    </label>
                    <p class="help-text">Supports JPG, PNG, HEIC. HEIC will be auto-converted. Drag images to reorder. Click ‚òÖ to set main image.</p>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeImageModal()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.4/dist/heic2any.min.js"></script>
    <script src="decoder.js"></script>
    <script src="inventory.js"></script>
    <script src="admin.js"></script>
</body>
</html>
